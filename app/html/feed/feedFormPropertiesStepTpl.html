<!--
/**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
-->
<form name="feedForm">
  <div class="row">
    <div class="col-sm-8">
      <div class="light freqTitle">Frequency</div>

      <label class="light">Every</label>

        <span class="composedField">
          <input type="text" class="form-control small light"
           ng-model="feed.frequency.quantity"
           ng-required="true"
           ng-pattern="validations.twoDigits.pattern"/>
        </span>

        <select
          ng-model="feed.frequency.unit"
          ng-required="true">
          <option value="hours">hours</option>
          <option value="days">days</option>
          <option value="weeks">weeks</option>
          <option value="months">months</option>
        </select>
    </div>
    <div class="col-sm-8">
      <div>
        <input type="checkbox" ng-model="feed.lateArrival.active">
        <label class="light">Late Arrival</label>
      </div>

      <label class="light">Up to</label>

      <input type="text" class="form-control small light"
        ng-model="feed.lateArrival.cutOff.quantity"
        ng-disabled="!feed.lateArrival.active"
        ng-pattern="validations.twoDigits.pattern"
        ng-required="feed.lateArrival.active"/>

      <select
        ng-model="feed.lateArrival.cutOff.unit"
        ng-required="feed.lateArrival.active">
        <option value="hours">hours</option>
        <option value="days">days</option>
        <option value="weeks">weeks</option>
        <option value="months">months</option>
      </select>

    </div>
    <div class="col-sm-8">
      <label class="light">Availability Flag</label>
      <input type="text" class="availFlagInput form-control"
        ng-model="feed.availabilityFlag"
        ng-pattern="validations.alpha.pattern">
    </div>


    <div class="clearfix hidden-md"></div>

    <div class="col-sm-24 dynamic-table-spacer">
      <div class="light freqTitle">Timezone</div>
    </div>

    <div class="clearfix hidden-md"></div>

    <div class="col-sm-24">
      <select class="padding0 TZSelect form-control" ng-model="feed.timezone">
        <option value=""></option>
        <option value="GMT-12:00">(GMT -12:00) Eniwetok, Kwajalein</option>
        <option value="GMT-11:00">(GMT -11:00) Midway Island, Samoa</option>
        <option value="GMT-10:00">(GMT -10:00) Hawaii</option>
        <option value="GMT-09:00">(GMT -9:00) Alaska</option>
        <option value="GMT-08:00">(GMT -8:00) Pacific Time (US &amp; Canada)</option>
        <option value="GMT-07:00">(GMT -7:00) Mountain Time (US &amp; Canada)</option>
        <option value="GMT-06:00">(GMT -6:00) Central Time (US &amp; Canada), Mexico City</option>
        <option value="GMT-05:00">(GMT -5:00) Eastern Time (US &amp; Canada), Bogota, Lima</option>
        <option value="GMT-04:00">(GMT -4:00) Atlantic Time (Canada), Caracas, La Paz</option>
        <option value="GMT-03:50">(GMT -3:30) Newfoundland</option>
        <option value="GMT-03:00">(GMT -3:00) Brazil, Buenos Aires, Georgetown</option>
        <option value="GMT-02:00">(GMT -2:00) Mid-Atlantic</option>
        <option value="GMT-01:00">(GMT -1:00 hour) Azores, Cape Verde Islands</option>
        <option value="GMT+00:00">(GMT) Western Europe Time, London, Lisbon, Casablanca</option>
        <option value="GMT+01:00">(GMT +1:00 hour) Brussels, Copenhagen, Madrid, Paris</option>
        <option value="GMT+02:00">(GMT +2:00) Kaliningrad, South Africa</option>
        <option value="GMT+03:00">(GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg</option>
        <option value="GMT+03:50">(GMT +3:30) Tehran</option>
        <option value="GMT+04:00">(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi</option>
        <option value="GMT+04:50">(GMT +4:30) Kabul</option>
        <option value="GMT+05:00">(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent</option>
        <option value="GMT+05:50">(GMT +5:30) Bombay, Calcutta, Madras, New Delhi</option>
        <option value="GMT+05:75">(GMT +5:45) Kathmandu</option>
        <option value="GMT+06:00">(GMT +6:00) Almaty, Dhaka, Colombo</option>
        <option value="GMT+07:00">(GMT +7:00) Bangkok, Hanoi, Jakarta</option>
        <option value="GMT+08:00">(GMT +8:00) Beijing, Perth, Singapore, Hong Kong</option>
        <option value="GMT+09:00">(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk</option>
        <option value="GMT+09:50">(GMT +9:30) Adelaide, Darwin</option>
        <option value="GMT+10:00">(GMT +10:00) Eastern Australia, Guam, Vladivostok</option>
        <option value="GMT+11:00">(GMT +11:00) Magadan, Solomon Islands, New Caledonia</option>
        <option value="GMT+12:00">(GMT +12:00) Auckland, Wellington, Fiji, Kamchatka</option>
      </select>
    </div>



    <h4 class="col-sm-24">Properties</h4>
    <div class="col-sm-5">
      <label class="light">Name</label>
    </div>
    <div class="col-sm-19">
      <label class="light">Value</label>
    </div>

    <div ng-repeat="property in feed.properties">
      <div class="col-sm-5 dynamic-table-spacer">
        <label>{{property.key}}</label>
      </div>
      <div class="col-sm-19 dynamic-table-spacer" ng-if="property.key !== 'timeout' && property.key !== 'jobPriority'">
        <input type="text" class="form-control"
          ng-model="property.value"
          ng-patter="validations.alpha.pattern"/>
      </div>
      <div class="col-sm-19 dynamic-table-spacer" ng-if="property.key === 'timeout'">
        At
        <input type="text" class="form-control small light"
               ng-model="property.value.quantity"
               ng-pattern="validations.twoDigits.pattern"/>
        <select
          ng-model="property.value.unit">
          <option value="hours">hours</option>
          <option value="days">days</option>
          <option value="weeks">weeks</option>
          <option value="months">months</option>
        </select>
      </div>
      <div class="col-sm-19 dynamic-table-spacer" ng-if="property.key === 'jobPriority'">
        <select ng-model="property.value" class="form-control padding0">
          <option value="VERY_HIGH">Very high</option>
          <option value="HIGH">High</option>
          <option value="NORMAL">Normal</option>
          <option value="LOW">Low</option>
          <option value="VERY_LOW">Very Low</option>
        </select>
      </div>
      <div class="clearfix hidden-md"></div>
    </div>

    <div ng-repeat="property in feed.customProperties">
      <div class="col-sm-5 dynamic-table-spacer">
        <input type="text" class="form-control"
          ng-model="property.key"
          ng-pattern="validations.alpha.pattern"
          ng-required="property.value"/>
      </div>

      <div class="col-sm-17 dynamic-table-spacer">
        <input type="text" class="form-control"
          ng-model="property.value"
          ng-pattern="validations.alpha.pattern"
          ng-required="property.key"/>
      </div>
      <div class="col-sm-2 top-buffer" >
        <div ng-if="!$last">
          <span class="entypo circled-minus dynamic-table-spacer" ng-click="removeCustomProperty($index)"></span>
        </div>
        <div ng-if="$last">
          <span class="entypo circled-plus dynamic-table-spacer" ng-click="addCustomProperty()"></span>
        </div>
      </div>
      <div class="clearfix hidden-md"></div>
    </div>

    <div class="clearfix hidden-md"></div>

  </div>
  <div class="feedBottomButtons row">
    <div class="btn btn-default col-sm-6" ui-sref="forms.feed.general">
      Previous
    </div>
    <div class="btn btn-default col-sm-6 pull-right"
      ng-disabled="feedForm.$invalid"
      ui-sref="forms.feed.location">
      Next
    </div>
    <u class="col-sm-3 pull-right" ui-sref="main">
      Cancel
    </u>
  </div>
</form>